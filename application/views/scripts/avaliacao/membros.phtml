<style>
    .user-card {
        border: 0;
        border-radius: 1rem;
        box-shadow: 0 10px 25px rgba(0, 0, 0, .06);
        transition: transform .12s ease, box-shadow .12s ease;
        background: #fff;
    }

    .user-card:hover {
        /*transform: translateY(-2px);*/
        box-shadow: 0 14px 30px rgba(0, 0, 0, .10);
    }

    .user-avatar {
        width: 64px;
        height: 64px;
        border-radius: 50%;
        object-fit: cover;
        box-shadow: 0 0 0 3px #e5e7eb;
    }

    .user-initials {
        width: 64px;
        height: 64px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.1rem;
        background: #e5e7eb;
        color: #374151;
    }

    .user-role {
        font-size: .875rem;
        color: #6b7280;
    }

    .badge-status {
        font-size: .75rem;
        padding: .85rem .85rem;
        border-radius: 999px;
    }

    .badge-status.bom {
        background: #dcfce7;
        color: #166534;
    }

    .badge-status.ruim {
        background: #fee2e2;
        color: #b91c1c;
    }

    .badge-status.regular {
        background: #fef3c7;
        color: #92400e;
    }

    .user-meta {
        font-size: .8rem;
        color: #6b7280;
    }

    .user-tags .badge {
        font-size: .7rem;
        border-radius: 999px;
        font-weight: 500;
    }
</style>

<div class="row" id="listaUsuarios">
    <?php if (count($this->membros)) foreach ($this->membros as $key => $value): ?>
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card user-card h-100" data-id_usuario="<?= $value['id_usuario'] ?>">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="mr-3">
                            <!-- pode trocar por <img src="..." class="user-avatar"> -->
                            <div class="user-initials"><?= Util::gerarIniciais($value['nome']) ?></div>
                        </div>
                        <div class="flex-grow-1">
                            <div class="d-flex align-items-start">
                                <div>
                                    <h6 class="mb-1"><?= $value['nome'] ?></h6>
                                    <div class="user-role"></div>
                                </div>
                                <div class="ml-auto">
                                    <span class="badge badge-status bom">10</span>
                                </div>
                            </div>
                            <div class="user-meta mt-2">
                                <div><i class="far fa-envelope mr-1"></i> <?= $value['email'] ?></div>
                                <div><i class="far fa-clock mr-1"></i> Último avaliação: 13/11/2025 09:42</div>
                            </div>
                            <div class="user-tags mt-2">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-white border-0 pt-0 pb-3 px-4">
                    <div class="d-flex justify-content-between">
                        <button type="button" class="btn btn-sm btn-outline-secondary historico"><i class="fas fa-user mr-1"></i> Historico</button>
                        <div>
                            <button type="button" class="btn btn-sm btn-primary avaliar"><i class="fas fa-smile-o"></i> Avaliar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <?php endforeach; ?>
</div>



<script type="text/javascript">
    $(document).ready(function() {
        $('.avaliar').on('click',function(){
            let id_usuario = $(this).closest('.card').data('id_usuario');
            carregarTela('../../avaliacao/formulario?id_usuario=' + id_usuario, "#content");
        });

        $('.historico').on('click',function(){
            let id_usuario = $(this).closest('.card').data('id_usuario');
            carregarTela('../../dashboard/usuario?id_usuario=' + id_usuario, "#content");
        });
    });
</script>